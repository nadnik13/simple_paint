# Simple Paint

Приложение для рисования на Flutter с синхронизацией через Firebase.

## Архитектура

Приложение построено на **Clean Architecture** с использованием паттерна **BLoC** для управления состоянием:

- **UI Layer** (`lib/ui/`) - экраны и виджеты
- **BLoC Layer** (`lib/bloc/`) - управление состоянием
- **Data Layer** (`lib/data/`) - репозитории и модели данных
- **Services Layer** (`lib/services/`) - бизнес-логика рисования

## Основные экраны

- **AuthPage** - авторизация пользователя
- **RegistrationPage** - регистрация нового пользователя  
- **GalleryPage** - галерея сохраненных рисунков
- **DrawingPage** - холст для рисования

## Технологии

### Frontend
- **Flutter** - кроссплатформенная разработка
- **flutter_bloc** - управление состоянием
- **go_router** - навигация
- **flutter_colorpicker** - выбор цветов
- **image** - обработка изображений

### Backend
- **Firebase Auth** - аутентификация
- **Cloud Firestore** - база данных
- **Firebase Storage** - хранение изображений (через чанки)

### Дополнительные возможности
- **share_plus** - поделиться рисунком
- **flutter_local_notifications** - уведомления
- **image_picker** - загрузка изображений
- **path_provider** - работа с файловой системой

## Основные BLoC'и

- **AccountDataBloc** - управление аутентификацией
- **GalleryBloc** - управление галереей рисунков
- **ImageBloc** - загрузка и отображение изображений
- **CanvasBloc** - состояние холста
- **ToolbarBloc** - инструменты рисования
- **ImageSaveBloc** - сохранение рисунков

## Особенности реализации

- Изображения сохраняются в Firestore по частям (чанками) для обхода лимитов размера документа
- Отдельное хранение фоновых изображений и линий рисования для возможности редактирования проекта при повторном открытии
- Кастомные рендереры для отрисовки (`BackgroundSketcher`, `LinesSketcher`)
- Поддержка различных инструментов рисования (кисть, ластик)